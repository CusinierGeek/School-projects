import{_ as g,r,a as T,o as d,c as v,b as l,n as i,t as N,w as k,v as x,d as m,e as C,f as A,g as S,F as M,h as V,i as $,p as j,j as B}from"./index-e86439d2.js";import{s as I,m as D,g as y,a as E}from"./kanban-4671570e.js";const q={class:"card mt-3 me-3 tableau",style:{width:"18rem"}},z={class:"card-body"},F={class:"card-title"},L={__name:"TuileTableau",props:{tableau:{type:Object,required:!0}},emits:["tableau-nouveau-nom","tableau-supprime"],setup(o,{emit:u}){const a=o,s=r(a.tableau.nom),t=r(!1),p=async n=>{confirm("Voulez-vous vraiment supprimer le tableau?")&&(await I(n),u("tableau-supprime",a.tableau.id))},_=()=>{s.value=a.tableau.nom,t.value=!0},b=async()=>{s.value.trim()!==""&&(await D(a.tableau.id,s.value),t.value=!1,u("tableau-nouveau-nom",a.tableau.id,s.value))},c=()=>{t.value=!1};return(n,e)=>{const f=T("font-awesome-icon"),w=T("router-link");return d(),v("div",q,[l("div",z,[l("h5",F,[l("span",{class:i([t.value?"cache":""])},N(o.tableau.nom),3),k(l("input",{class:i([t.value?"":"cache","input"]),"onUpdate:modelValue":e[0]||(e[0]=h=>s.value=h),maxlength:"50"},null,2),[[x,s.value]]),m(f,{class:i([t.value?"cache":"","ms-2 icone"]),icon:"fa-solid fa-pen-to-square",onClick:_},null,8,["class"]),m(f,{class:i([t.value?"":"cache","ms-2 icone"]),icon:"fa-solid fa-check",onClick:b},null,8,["class"]),m(f,{class:i([t.value?"":"cache","ms-2 icone"]),icon:"fa-solid fa-x",onClick:c},null,8,["class"])]),m(w,{class:"card-link",to:`/tableau/${o.tableau.id}`},{default:C(()=>[A("Consulter")]),_:1},8,["to"]),l("a",{href:"#",class:"card-link",onClick:e[1]||(e[1]=h=>p(o.tableau.id))},"Supprimer")])])}}},U=g(L,[["__scopeId","data-v-2f939d69"]]);const O=o=>(j("data-v-56bc7b07"),o=o(),B(),o),G={class:"container-fluid main"},H=O(()=>l("h1",{class:"mb-3"},"Accueil",-1)),J={class:"mb-3"},K={key:1},P={__name:"Accueil",setup(o){const u=r([]),a=r(""),s=r(!1),t=r(!0);S(async()=>{u.value=await y(),t.value=!1});const p=async()=>{if(s.value=!1,a.value.trim()===""){s.value=!0;return}await E(a.value),a.value="",u.value=await y()},_=async(c,n)=>{u.value.forEach(e=>{e.id===c&&(e.nom=n)})},b=async c=>{u.value=u.value.filter(n=>n.id!==c)};return(c,n)=>(d(),v("div",G,[H,l("div",J,[k(l("input",{type:"text","onUpdate:modelValue":n[0]||(n[0]=e=>a.value=e),maxlength:"50"},null,512),[[x,a.value]]),l("button",{class:"ms-2",onClick:p},"Ajouter un tableau"),l("span",{class:i([s.value?"erreur":"cache","ms-2"])},"Le nom du nouveau tableau ne peut pas Ãªtre vide.",2)]),t.value?(d(),v("h2",K,"En chargement...")):(d(!0),v(M,{key:0},V(u.value,e=>(d(),$(U,{key:e.id,tableau:e,onTableauNouveauNom:_,onTableauSupprime:b},null,8,["tableau"]))),128))]))}},W=g(P,[["__scopeId","data-v-56bc7b07"]]);export{W as default};
